[
  {
    "path": "posts/2021-06-08-dataviz-makeover-2/",
    "title": "Dataviz Makeover 2",
    "description": "Recasting Visualisation To Better Illuminate Underlying Insights \n(Again Using Data From Singapore’s Department Of Statistics)",
    "author": [
      {
        "name": "Syed Ahmad Zaki",
        "url": "https://www.google.com/"
      }
    ],
    "date": "2021-06-08",
    "categories": [],
    "contents": "\r\n\r\nContents\r\n1. Makeover Requirements\r\n1.1. The Task\r\n1.2. Deliverables\r\n\r\n2. Original Visualisation and Its Perceived Objective\r\n3. Critiquing Methodology\r\n4. Critique of Visualisation\r\n4.1. Clarity:\r\n4.2. Aesthetics:\r\n\r\n5. Alternative Design Considerations\r\n5.1. Suggested Improvements\r\n5.2. Finding Inspiration\r\n5.3. Sketch\r\n\r\n6. Proposed Tableau Visualisation\r\n7. Step-by-Step Guide\r\n6.1. Data Preparation\r\n6.2. Data Visualisation\r\n7.2. Derived Insights\r\n\r\n\r\n1. Makeover Requirements\r\n1.1. The Task\r\nCritic the visualized graph with at least three points from each evaluation criterion (clarity and aesthetics) respectively.\r\nSuggest alternative graphical presentation to improve the current design:\r\nProposed alternative data visualization must be in static form.\r\nProposed design would need to be sketched.\r\nSupport your design by describing the advantages or which part of the issue(s) your alternative design attempts to overcome.\r\nUse Tableau to design the proposed data visualization.\r\nProvide step-by-step description on how the data visualization was prepared.\r\nDescribe three major observations revealed by the prepared data visualization.\r\n1.2. Deliverables\r\nThe study period should be between January 2011-December 2020. No additional data sets are required.\r\nFocus on telling data story using appropriate statistical graphic methods, graphical design principles and interactive techniques, including animation.\r\n2. Original Visualisation and Its Perceived Objective\r\nThe original visualization (shown below) showcases the merchandise trade, for both export and import, of ten of Singapore’s major trading partners in 2020.\r\nFigure 1: Original Data VisualisationUsing the same methodology in our earlier DataViz Makeover 1, the intent of the visualisation would need to be defined first. We attempt the narrative for the above visualization, as follows:\r\n“In 2020, each of our top ten trading countries (Mainland China, Malaysia, EU, United States, Taiwan, Japan, Republic of Korea, Indonesia, Hong Kong and Thailand) differ greatly in their respective export, import as well as total merchandise trade value.”\r\nTo further illuminate the narrative, we propose the following questions that the visualization aim to answer. Given the subject matter, these questions are very similar to those proposed in our earlier makeover:\r\n• What are the import and export levels in each of the top ten trading countries?\r\n• How do these import and export levels fluctuate over time?\r\n• Which countries are net exporter or net importer at varying periods in time?\r\n• Within the top ten countries, who has the highest and lowest import and export levels respectively?\r\n• (Additional) Do these fluctuations coincide with any event?\r\n3. Critiquing Methodology\r\nThe methodology will remain the same as before, where we will assess on clarity and aesthetics.\r\n4. Critique of Visualisation\r\n4.1. Clarity:\r\n• Lack of proper scales on both x and y axis\r\nThough each bubble has a merchandise trading amount, the x and y axis lacks such a scale. The values within both the merchandise trading amount and the xy axis does not match either. We’re unsure whether the scales refer to millions, billions or even kilograms.\r\n• Bottom insight does not match with the visualisation\r\nThe bottom insight made reference to the difference in Singapore’s standing between two separate trading partner from 2006 and 2009 respectively. The visualisation however shows the trading values only for the year 2020.\r\n• Axis names are misleading\r\n‘Imports’,though situated near to the x-axis, actually refers to the y-axis, and vice-versa for the ‘Exports’ icon. The reader would need to take into account the wordings of ‘net importers’ and ‘net exporters’ to realise that the axis names are somewhat incorrectly placed.\r\n4.2. Aesthetics:\r\n• Unnecessary colours for each country\r\nThe ten countries each have their own colour scheme to differentiate one from the other. Differentiation has already been achieved from the names of the countries within their respective infographic bubbles.\r\n• The bubbles hide behind each other\r\nSimilar sized bubbles seem to be grouped closely together. Naturally some would be hidden behind others. When the cursor hovers each bubble, the bubbles move forward to display the country name and merchandise trade value. The user wouldn’t have noticed the availability of such interactivity, given the design is very much like a static image.\r\n• The infographic bubbles take up too much space\r\nThe infographic bubbles indicating the name of the trading partner, as well as its total merchandise trade value take up far too much space within the small visualisation.\r\n5. Alternative Design Considerations\r\n5.1. Suggested Improvements\r\nThe use of the bubble chart as per the original visualisation will be continued, given the use of three continuous data (export, import and merchandise trade value). As such, the following suggestions are mere tweaks to the original visualisation:\r\n• Proper scales on both x and y axis\r\n• Rightly sized infographic bubbles (if needed)\r\n• Showing trade movements on and before 2020 (perhaps from 2011 onwards)\r\n• Right level of transparency to show location of bubbles as well as other overlapping bubbles\r\n• Seeing the bubble positions in other years before 2020\r\n• Being able to see the export, import and total merchandise trade over time\r\n5.2. Finding Inspiration\r\nWhile we intend to reuse the original bubble chart design, we scour the internet for inspiration!\r\nThe chart that comes to mind when comparing multiple countries across two continuous variable was Dr Hans Rosling’s famous charts on global trends. In his famous Ted talk, he covered two charts across a lengthy time frame: one chart covers the life expectancy in each country against its fertility rate, while the other chart covers the child survival rate in each country against its GDP per capita.\r\nFigure 2: Another chart from Dr Han Rosling’s GapMinder organisationSeparately, while the original bubble chart design will be reused, it’s not able to show the change across time. This infographic from Upslide below shows the right chart type to consider, based on the nature of data that needs to be presented. Though this infographic is meant for charts within Excel, its application is universal. From the infographic, the best chart to compare non-cyclical data over many periods is the line chart. Though we will use this as a complement to the bubble chart, we would need to have a solution of fitting lines for ten different countries in a visually appealing manner.\r\nFigure 3: Infographic showcasing the right chart typeYvan Fornes’s work on visualising ten different categories across ten years (2005 to 2014) seems an apt approach to follow, as we visualise ten different countries’ and their respective export and import volumes across 2011 to 2020.\r\nFigure 4: Yvan Fornes’s Visualisation on the New Indicators of Wealth5.3. Sketch\r\nThe following sketch strives to find common ground between the original visualisation and its critiques, as well as incorporating the inspirations above.\r\nFigure 5: Sktech of Eventual Visualisation6. Proposed Tableau Visualisation\r\nClick on this Tableau Public link to view the visualisation.\r\nFigure 6: Proposed Tableau Visualisation Hosted on Tableau Public7. Step-by-Step Guide\r\n6.1. Data Preparation\r\nThe original raw data reside within the following links: Merchandise Trade Webpage and Merchandise Trade Excel Download\r\nThe Excel file contains the following three sheets:\r\n\r\n\r\nTable 1: Contents of Merchandise Trade Excel File\r\n\r\n\r\nSheet_Name\r\n\r\n\r\nDescription\r\n\r\n\r\nContent\r\n\r\n\r\nExplaining sheets T1 and T2 contain the “Merchandise Imports By Region/Market, Monthly” and “Merchandise Exports By Region/Market, Monthly” respectively\r\n\r\n\r\nT1\r\n\r\n\r\nContains the monthly merchandise imports by country/region in dollars (thousands for individual countries or millions for regions) spanning Jan-1976 to Apr-2021\r\n\r\n\r\nT2\r\n\r\n\r\nContains the monthly merchandise exports by country/region in dollars (thousands for individual countries or millions for regions) spanning Jan-1976 to Apr-2021\r\n\r\n\r\nUnlike the earlier makeover, this makeover will utilise Tableau Prep Builder to prepare the data.\r\n\r\n\r\nTable 2: Data Preparation Steps Using Tableau Prep Builder\r\n\r\n\r\nNo. \r\n\r\n\r\nSteps\r\n\r\n\r\nScreenshots\r\n\r\n\r\n1\r\n\r\n\r\nTo bring the data into Tableau Prep Builder, first unzip the output folder. Then load the output Excel file into Prep Builder. Drag spreadsheet T1 into the main window. Rename T1 to Import and start the cleaning node.\r\n\r\n\r\n\r\n\r\n2\r\n\r\n\r\nTo cleanly separate the country names, split the Variables column using the Custom Split and select “(”.\r\n\r\n\r\n\r\n\r\n3\r\n\r\n\r\nAfter renaming this newly split column as Country, filter using Selected Values. Exclude Africa, America, Asia, Europe, Oceania and Total Merchandise Imports\r\n\r\n\r\n\r\n\r\n4\r\n\r\n\r\nAdd a Pivot node to the Clean 1 node. To pivot just the dates, select all date values from 1976 Apr to 2021 Apr and drag to the central pane.\r\n\r\n\r\n\r\n\r\n5\r\n\r\n\r\nThen change format to Date.\r\n\r\n\r\n\r\n\r\n6\r\n\r\n\r\nRename to Month and Import (Thousand Dollars).\r\n\r\n\r\n\r\n\r\n7\r\n\r\n\r\nWe will now replicate these same steps for the Export file. First, drag spreadsheet T2 into the main window.\r\n\r\n\r\n\r\n\r\n8\r\n\r\n\r\nRename T2 to Export. Then copy both the Clean 1 and Pivot nodes and paste them next to the Export node\r\n\r\n\r\n\r\n\r\n9\r\n\r\n\r\nTo connect these nodes together, drag the Export node to the Clean 1(1) node over the Add function.\r\n\r\n\r\n\r\n\r\n10\r\n\r\n\r\nSince these are export values, replace the Import (Thousand Dollars) to Export (Thousand Dollars) in the Pivot 1(1) node.\r\n\r\n\r\n\r\n\r\n11\r\n\r\n\r\nTo combine both the Import and Export data, drag Pivot 1 to Pivot 1(1) to create a new Join node.\r\n\r\n\r\n\r\n\r\n12\r\n\r\n\r\nWithin the Join Clauses, match both the Country and Month columns to each other. Ensure that the full Join Type is selected.\r\n\r\n\r\n\r\n\r\n13\r\n\r\n\r\nAttach a new Clean node to the Join 1 node. Since there are duplicate columns, merge both Month columns first. Then merge both Country columns.\r\n\r\n\r\n\r\n\r\n14\r\n\r\n\r\nWe will now need to pivot the export and import fields. We will add a Pivot node to the Clean 3 node. We then drag the Export and Import columns into the centre pane.\r\n\r\n\r\n\r\n\r\n15\r\n\r\n\r\nWe will extract out just the Export and Import words, through the use of the Automatic Split. The newly created column will be renamed as Trade Type.\r\n\r\n\r\n\r\n\r\n16\r\n\r\n\r\nMost of the trade value are in thousands. We now need to convert this to its proper format. Taking into account that European Union is the only trading partner whose trade value is in the millions, we will create a calculated field using the following formula.\r\n\r\n\r\n\r\n\r\n17\r\n\r\n\r\nTo limit our timeframe, we will add a Clean node. We will then keep only the months between 2011 to 2020.\r\n\r\n\r\n\r\n\r\n18\r\n\r\n\r\nAt the same time, we will select our countries of choice by keeping these ten countries using the Filter function.\r\n\r\n\r\n\r\n\r\n19\r\n\r\n\r\nAfter keeping only the Trade Value, Trade Type, Country and Month columns, we will then add the Output node. Save the file in a Tableau hyper format for use in Tableau Desktop.\r\n\r\n\r\n\r\n\r\n6.2. Data Visualisation\r\nHaving prepared the data, we will now utilize Tableau Desktop for the eventual visualisation.\r\n\r\n\r\nTable 3: Data Visualisation Steps Using Tableau Desktop\r\n\r\n\r\nNo. \r\n\r\n\r\nSteps\r\n\r\n\r\nScreenshots\r\n\r\n\r\n1\r\n\r\n\r\nLaunch Tableau Desktop by double-clicking on the newly created hyper file. You should get this view. To start creating the first chart (bubble chart), let’s click on Sheet 1 at the bottom.\r\n\r\n\r\n\r\n\r\n2\r\n\r\n\r\nWe will need to create a few Calculated Fields. To create the first calculated field, click on the Analysis tab, and choose Calculated Field from the dropdown menu.\r\n\r\n\r\n\r\n\r\n3\r\n\r\n\r\nFirst we need to separate the export and import values. We create a calculated field and then rename to Export. Then enter the following formula: IF [Trade Type] = “Export” THEN [Trade Value] END. Ensure that there is a remark indicating that the calculation is valid. Then click OK. To repeat the same step for Import, create a calculated field and then rename to Import. Enter the following formula: IF [Trade Type] = “Import” THEN [Trade Value] END. Thereafter, click OK.\r\n\r\n\r\n\r\n\r\n4\r\n\r\n\r\nOur last calculated field for this chart will be to create a total trade value, combining both export and import. Name this calculated field as Total Trade Value. Enter the following formula: SUM([Export])+SUM([Import])\r\n\r\n\r\n\r\n\r\n5\r\n\r\n\r\nDrag Export to Columns, Import to Rows, Country to Detail Marks and Total Trade Value to Size Marks.\r\n\r\n\r\n\r\n\r\n6\r\n\r\n\r\nTo mimic Hans Rosling’s yearly animation, we will then drag Month to Pages. Then right-click this and choose Cumulative Year.\r\n\r\n\r\n\r\n\r\n7\r\n\r\n\r\nTo switch on the animation feature, select the Format tab, and choose Animations from the dropdown menu. Then select On.\r\n\r\n\r\n\r\n\r\n8\r\n\r\n\r\nTo fix the axis ranges as the animation plays, first right-click on the vertical Import axis. Choose Edit Axis. Then select Fixed Range and enter 0 and 90,000,000,000. Repeat the same step for the horizontal Export axis by right-clicking on it.\r\n\r\n\r\n\r\n\r\n9\r\n\r\n\r\nTo format the bubbles accordingly, we first resize them by clicking on the Size marks and choosing the centre. Then we change the marks type, by clicking on Automatic and choosing Circle. This will allow us to have a fill colour. To colour this circle, click on the Color marks and choose a dark grey tone (HTML #555555) Within the same window, choose 70% opacity. Overlapping circles will now be seen easily, compared to full opacity. Lastly, to include the Country names to each bubble, drag Country to the Label marks.\r\n\r\n\r\n\r\n\r\n10\r\n\r\n\r\nA few more formatting to go before we’re done with the bubble chart. To remove the gridlines, select the Format tab and click on Lines from the dropdown menu. Within the Rows tab, select None within the Grid Lines. Repeat this step for the Columns tab. To rename the Title, right-click on the Title and select Edit Title. Enter the following phrase. Then select OK.\r\n\r\n\r\n\r\n\r\n11\r\n\r\n\r\nDr Hans Rosling’s bubble chart featured a large Year label in the centre. We would need to first create this Year label in a separate worksheet and then bring it in during our dashboard stage. First, create a new worksheet, and rename it Bubble Year. Then drag Month to Pages. Then right-click this and choose Cumulative Year. Again drag Month to the Text Marks. Then again, right-click this and choose Cumulative Year.\r\n\r\n\r\n\r\n\r\n12\r\n\r\n\r\nTo realign to middle centre, click on the Text marks. Select Alignment and choose centre of both Horizontal and Vertical alignments. Next to adjust the font colour and size, right-click on the Year(Month) text mark and choose Format. Then choose font size 72, light grey colour (HTML #e6e6e6) and bold. Then lastly, to remove the title, right-click on the Title and select Hide Title.\r\n\r\n\r\n\r\n\r\n13\r\n\r\n\r\nNow we would need to create a line graph for Total Trade Value. First create a new worksheet and name it Total. Then drag Country and Month to Columns, and Total Trade Value to Rows. Change the date format by right-clicking on Month and choosing Cumulative Year. Drag Month to Pages and repeat the date format change.\r\n\r\n\r\n\r\n\r\n14\r\n\r\n\r\nNext choose Circle marks. To add labels, drag Total Trade Value to the Text marks. Since the label is too long, right-click on the Total Trade Value text marks and select Format. Within the Numbers dropdown menu, select Number (Custom). Choose zero decimal places and display units as billions.\r\n\r\n\r\n\r\n\r\n15\r\n\r\n\r\nClick on Format Borders to remove unnecessary lines on the graph. Within the Sheet tab, select None for both the Column and Row Divider. Then select Format Lines, and select None for Grid Lines within the Rows tab.\r\n\r\n\r\n\r\n\r\n16\r\n\r\n\r\nTo give a nice background shade per country, we will add a reference line. Right-click on the horizontal year axis and choose Add Reference Line. From the top, choose Band and Entire Table as Scope. Then for Band From, choose Constant, and 1st Jan 2011 as its Value. Choose None for Label. Then for Band To, choose Constant, and 1st Dec 2020 as its Value. Choose None for Label. Lastly for the Fill, choose a light grey colour (HTML #f5f5f5).\r\n\r\n\r\n\r\n\r\n17\r\n\r\n\r\nTo hide all unnecessary wordings, we start with right-clicking on the Title and Hide Title. Next we will remove the vertical axis by right-clicking on it and unchecking Show Header. Next we will remove the word Country by right-clicking on it and selecting Hide Field Labels for Columns. Lastly to remove the horizontal axis, right-click on it and uncheck Show Header.\r\n\r\n\r\n\r\n\r\n18\r\n\r\n\r\nTo bold the Country name font, right-click on the country and click on Format. Then choose Bold. Separately, change the colour of the circle by selecting on the Color mark and choosing a dark grey colour (HTML #555555).\r\n\r\n\r\n\r\n\r\n19\r\n\r\n\r\nTo ensure that animation applies to this chart, select the Format tab and click on Animations from the dropdown menu. On the right hand side of the chart, an animation pane would appear. Select a Fast speed, check the Show History box, and then click the down arrow button to reveal more options. Select All Marks To Show History For, and show Both marks and trails. You can then play this animation to see how the circles moves across the years.\r\n\r\n\r\n\r\n\r\n20\r\n\r\n\r\nNow let’s finalise its tooltip. Since our intention is to show more digits in the tooltip than on axis, we will need to duplicate the total trade value. First, right-click on the Total Trade Value and select Duplicate. Then drag this Total Trade Value (copy) to the Tooltip marks, together with Export and Import. Then click on the Tooltip marks. Remove the sentence with Year(Month)(2). And then insert AGG(Total Trade Value(copy)) just beside the sentence of Total Trade Value. Add two more sentences (Total Export and Total Import) and insert their respective fields.\r\n\r\n\r\n\r\n\r\n21\r\n\r\n\r\nNow we would need to create a similar line chart for both Export and Import. Duplicate the sheet Total and rename it as Export Import. Remove AGG(Total Trade Value) from Rows, as well as the Label and Tooltip marks. Then drag Trade Value to Rows, and Trade Type to the Colour marks.\r\n\r\n\r\n\r\n\r\n22\r\n\r\n\r\nNext to add labels, drag Trade Value to the Text marks. The labels do not appear, since it is too long. We would need to shrink the labels for it to appear. First right-click on the Trade Value text marks and select Format. Within the Numbers dropdown menu, select Number (Custom). Choose zero decimal places and display units as billions.\r\n\r\n\r\n\r\n\r\n23\r\n\r\n\r\nNext we will need to have the horizontal annual axis reappear, while all other axis and titles would need to be hidden. First, right-click on the Year(Month) on the Columns and Show Header. To remove the repeated Year of Month, right-click on the horizontal annual axis and select Edit Axis. Within the General tab, remove Year of Month within the Title of Axis Titles. Then to just show 2011 and 2020 within the axis, select the Tick Marks tab. Under the Major Tick Marks, select Fixed and choose 1st Jan 2011 and 9 Years interval.\r\n\r\n\r\n\r\n\r\n24\r\n\r\n\r\nTo finalise the tooltip, we would need to create a calculated field to indicate whether the line is an Export or Import line. We create a calculated field named Custom TT, and enter the following formula: IF ISNULL([Import]) THEN “Export” ELSE “Import” END. Then drag Custom TT to the Tooltip marks. Also, drag Export and Import into the Tooltip marks. Then click on the Tooltip marks. Type Total and then insert ATTR(Custom TT). Press Tab on the keyboard and insert both Sum(Export) and Sum(Import). Then click OK.\r\n\r\n\r\n\r\n\r\n25\r\n\r\n\r\nNow we’re ready to create the dashboard. First, create a new dashboard and name it DataViz2. To ensure that our dashboard fits all screen resolutions, we will need to click on Size and choose Automatic. We will then make use of containers to right size our dashboard. The plan is to have three horizontal containers stacked on top of each other. First, drag the Vertical container into the main window. Then drag the Horizontal container over the lower half of the main window such that it gets highlighted. Next drag the Vertical container over the lowest quarter of the main window such that this too gets highlighted. Now we have three horizontal containers, of which the top and bottom are of a vertical nature and the middle is of a horizontal nature. For easy reference, any box with blue boundaries are containers, whereas any box with green boundaries are charts.\r\n\r\n\r\n\r\n\r\n26\r\n\r\n\r\nDrag the Bubble worksheet to the middle container. Then drag a Vertical container to the right of this Bubble chart. Drag Total into this Vertical container, and then drag Import Export just below this Total chart.\r\n\r\n\r\n\r\n\r\n27\r\n\r\n\r\nWithin the top container, remove Total Trade Value, Year of Month (2020) and Trade Type. Drag Text box to just below the remaining Year of Month within the top container and enter the following text. Resize to font size 16 and bold. Then drag the Year of Month from the top container to the bottom.\r\n\r\n\r\n\r\n\r\n28\r\n\r\n\r\nNow let’s focus on the top container. Let’s drag another text box as the sub-Title below the earlier Title. Enter your short paragraph and enlarge font size to 12. We create a line separator by dragging another text box below this sub-title. Without entering any text, click OK. Reduce its Outer Padding to zero, and select its background colour as dark grey (HTML #555555). We then right-click on this text box and Edit Height to 3 pixels.\r\n\r\n\r\n\r\n\r\n29\r\n\r\n\r\nFor the bottom container, drag a Horizontal container below the Year of Month. To create another line separator, drag a Text Box in between this Year of Month and the Horizontal container. Without entering any text, click OK. Reduce its Outer Padding to zero, and select its background colour as dark grey (HTML #555555). We then right-click on this text box and Edit Height to 3 pixels. Below this line, drag a Text Box. Enter details on the source of the data. Drag another Text Box to the right of this data source text box. Enter the reason for this dashboard. Your eventual bottom container should look like this.\r\n\r\n\r\n\r\n\r\n30\r\n\r\n\r\nFor the middle right container. hide both Titles (Total and Export Import). For the Trade Value chart, we’ll remove the country names by right-clicking on it and unchecking Show Header. Then remove the vertical Trade Value axis by right-clicking on it and uncheck Show Header. Your eventual arrangement should look like this picture on the right. To create a Title above the top line chart, drag a Text box just above the Country Names. Enter commentary below the Total Merchandise Trade Volumes and click OK. To create a Title below the bottom line chart, drag another Text box below the years. Enter commentary on the Export and Import Volumes. Colour the words Export and Import according to its respective lines (HTML #4e79a7 and #f28e2b). Your arrangement should now look like the picture on the right.\r\n\r\n\r\n\r\n\r\n31\r\n\r\n\r\nNow focusing our attention on the animation bar. Drag a Text box above this animation bar to provide instructions to the viewer that the charts can be played with this animation bar. Input the necessary instructions in this text, and click OK. Then right-click on the animation bar. Uncheck Show Title, Show Page Readout and Show History Controls. Your animation bar should now look like this pic.\r\n\r\n\r\n\r\n\r\n32\r\n\r\n\r\nLastly, while pressing on the Shift button, drag Bubble Year to just above the Bubble Chart. Remove its Title by right-clicking on it and uncheck Show Header. Then to move it behind the Bubble Chart, right-click on it, move to Floating ORder and select Send to Back. The reason why you can no longer see the Bubble Year, is due to a white background within the Bubble Chart. Right-click on Bubble chart and select Format. Change the colour of the Fill worksheet to None. Your chart should now look like this.\r\n\r\n\r\n\r\n\r\n7.2. Derived Insights\r\n\r\n\r\nTable 4: Derived Insights\r\n\r\n\r\nNo. \r\n\r\n\r\nSteps\r\n\r\n\r\nScreenshots\r\n\r\n\r\n1\r\n\r\n\r\nOverall: Between 2011 and 2020, Singapore has generally seen flat or increasing trade with some of its top ten trading partners. 2016 was an exceptional year, where there was a sharp decline in trade across the board. This was due to three main reasons, sudden volatility with the China stock market, OPEC oil production cuts as well as Brexit, where UK had decided to leave the EU bloc. Notable trade recovery from 2016 was with EU, US, China and Taiwan. Conversely, trade with its remaining top ten trading partners, of whom are mainly the Asian markets, have stuttered since.\r\n\r\n\r\n\r\n\r\n2\r\n\r\n\r\nMainland China: From being Singapore’s 2nd biggest trading partner in 2011 with a trade worth of $101 billion, China outgrew Malaysia to be Singapore’s top trading partner in 2020 with a whopping trade worth of $136 billion. This was due to a burgeoning two-way trade between Singapore and China: between 2011 and 2020, export and imports grew from $54 to $71 billion and from $48 to $65 billion respectively. The trading growth was aided by the 2009 China-Singapore Free Trade Agreement. At the same time, with the ever-present US-China tensions causing turmoil to global trade, China has increasingly focused their efforts in strengthening trade links with its neighbours. This benefits Singapore even further, with it being a part of the recent Regional Comprehensive Economic Partnership (RCEP) agreement with China.\r\n\r\n\r\n\r\n\r\n3\r\n\r\n\r\nIndonesia: Trade with Indonesia slumped from a high of $82 billion in 2011 to $49 billion in 2020. This is mainly due to a sharp decline in exports from $57 billion in 2011 to $30 billion in 2020.\r\n\r\n\r\n\r\n\r\n4\r\n\r\n\r\nUnited States: Trade with United States remained flat between 2011 and 2016 at $73 billion. Thereafter, trade grew rapidly to $102 billion, driven mainly by export trade from Singapore. Despite US’s withdrawal from the Trans-Pacific Partnership in 2017, Singapore could still rely on its 2004 Free Trade Agreement with US.\r\n\r\n\r\n\r\n\r\n5\r\n\r\n\r\nMalaysia: Malaysia was Singapore’s biggest trading partner, before being overtaken by China in 2013. Apart from a 2016 trade dip, trade with Singapore’s closest neighbour, Malaysia, has largely remained constant at $115 billion. 2018 saw the start of a dip with it reaching $103 billion in 2020. The drop coincided with Mahathir’s return to power in the 2018 elections.\r\n\r\n\r\n\r\n\r\n6\r\n\r\n\r\nTaiwan: Singapore’s trade with Taiwan has been on an upward trend; trade grew from $46 billion in 2011 to $75 billion in 2020. This trade growth was due to greater imports fuelled by the 2014 trade agreement between Singapore and Taiwan, Penghu, Kinmen and Matsu (ASTEP).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-06-20T03:29:47+08:00",
    "input_file": "dataviz-makeover-2.knit.md"
  },
  {
    "path": "posts/2021-06-08-assignment/",
    "title": "VAST Challenge 2021: Mini-Challenge 2",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Syed Ahmad Zaki",
        "url": "https://www.google.com/"
      }
    ],
    "date": "2021-06-08",
    "categories": [],
    "contents": "\r\n\r\nContents\r\nOur Mission (Should We Accept It)\r\n1. Data Understanding\r\n1.1 Understanding the Credit Card data\r\n1.2 Understanding the Loyalty Card data\r\n\r\n2. Data Preparation\r\n2.1 Combining Both Credit Card and Loyalty Data\r\n\r\n3. Data Exploration Analysis\r\n\r\nTeam Member:\r\nSyed Ahmad Zaki, Singapore Management University of Singapore, ahmadzaki.2020@mitb.smu.edu.sg\r\nStudent Team: YES\r\nTools Used:\r\nRmarkdown\r\nApproximately how many hours were spent working on this submission in total?\r\nProvide an estimate of the total number of hours worked on this submission by your entire team.\r\nMay we post your submission in the Visual Analytics Benchmark Repository after VAST Challenge 2021 is complete?\r\nYES\r\nVideo\r\nProvide a link to your video. Example: http://www.westbirmingham.ac.uk/uwb-smith-mc2-video.wmv\r\nOur Mission (Should We Accept It)\r\nAs a visual analytics expert assisting law enforcement, your mission is to identify which GASTech employees made which purchases and identify suspicious patterns of behavior.. You must cope with uncertainties that result from missing, conflicting, and imperfect data to make recommendations for further investigation.\r\nUse visual analytics to analyze the available data and develop responses to the questions below. In addition, prepare a video that shows how you used visual analytics to solve this challenge. Submission instructions are available here. Entry forms are available for download below. https://vast-challenge.github.io/2021/MC2.html\r\n1. Data Understanding\r\nWe start by loading all the necessary datasets provided in VAST Challenge 2021 Mini-Challenge 2.\r\n\r\n\r\nShow code\r\n\r\n# Loading all datasets and image\r\ncc <- readr::read_csv(\"data/cc_data.csv\") # Add credit card data\r\nloyalty <- readr::read_csv(\"data/loyalty_data.csv\") # Add loyalty data\r\nmc2 <- jpeg::readJPEG(\"img/MC2-tourist.jpg\", native = TRUE) # Add jpeg map file\r\ngps <- readr::read_csv(\"data/gps.csv\") # Add gps data\r\nassignments <- readr::read_csv(\"data/car-assignments.csv\") # Add car assignments\r\n\r\n\r\n\r\n1.1 Understanding the Credit Card data\r\nAs always, we will review each of the datasets in greater detail. This is a necessary step in order to accurately prepare the data for subsequent use.\r\nWe will begin by reviewing the credit card data.\r\n\r\n\r\nShow code\r\n\r\nstr(cc)\r\n\r\n\r\nspec_tbl_df [1,490 x 4] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\r\n $ timestamp : chr [1:1490] \"01/06/2014 07:28\" \"01/06/2014 07:34\" \"01/06/2014 07:35\" \"01/06/2014 07:36\" ...\r\n $ location  : chr [1:1490] \"Brew've Been Served\" \"Hallowed Grounds\" \"Brew've Been Served\" \"Hallowed Grounds\" ...\r\n $ price     : num [1:1490] 11.34 52.22 8.33 16.72 4.24 ...\r\n $ last4ccnum: num [1:1490] 4795 7108 6816 9617 7384 ...\r\n - attr(*, \"spec\")=\r\n  .. cols(\r\n  ..   timestamp = col_character(),\r\n  ..   location = col_character(),\r\n  ..   price = col_double(),\r\n  ..   last4ccnum = col_double()\r\n  .. )\r\n\r\nWhile exploring these four columns, the date format within the timestamp were in a MM-DD-YYYY H:M format. We will ensure that R understands this format.\r\n\r\n\r\nShow code\r\n\r\ncc$timestamp <- as.POSIXct(cc$timestamp, format = \"%m/%d/%Y  %H:%M\", tz = \"GMT\")\r\n\r\n\r\n\r\n1.2 Understanding the Loyalty Card data\r\nWe will now review the loyalty card data.\r\n\r\n\r\nShow code\r\n\r\nstr(loyalty)\r\n\r\n\r\nspec_tbl_df [1,392 x 4] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\r\n $ timestamp : chr [1:1392] \"01/06/2014\" \"01/06/2014\" \"01/06/2014\" \"01/06/2014\" ...\r\n $ location  : chr [1:1392] \"Brew've Been Served\" \"Brew've Been Served\" \"Hallowed Grounds\" \"Coffee Shack\" ...\r\n $ price     : num [1:1392] 4.17 9.6 16.53 11.51 12.93 ...\r\n $ loyaltynum: chr [1:1392] \"L2247\" \"L9406\" \"L8328\" \"L6417\" ...\r\n - attr(*, \"spec\")=\r\n  .. cols(\r\n  ..   timestamp = col_character(),\r\n  ..   location = col_character(),\r\n  ..   price = col_double(),\r\n  ..   loyaltynum = col_character()\r\n  .. )\r\n\r\nThough the loyalty data has a similar structure to the credit card data, there are notable differences. Apart from the difference in the last column, the timestamp is in a MM-DD-YYYY format. This is a slight difference to the credit card data. We will now make similar adjustments to the timestamp column.\r\n\r\n\r\nShow code\r\n\r\nloyalty$timestamp <- as.POSIXct(loyalty$timestamp, format = \"%m/%d/%Y\", tz = \"GMT\")\r\n\r\n\r\n\r\n2. Data Preparation\r\n2.1 Combining Both Credit Card and Loyalty Data\r\nWe will now attempt to find matching rows between the cc and loyalty data. We will use fuzzy string matching using Levenshtein distance which is available natively in R’s adist utilities package.\r\n\r\n\r\nShow code\r\n\r\ncc <- tibble::rowid_to_column(cc, \"ID\") #Create a numeric id column\r\nloyalty <- tibble::rowid_to_column(loyalty, \"ID\") #Create a numeric id column\r\ncc$date <- as.Date(cc$timestamp) #Create a separate column just for dates in the cc data\r\ncc$concat <- paste(cc$date,cc$location,cc$price) #Create a separate column of unique values using concatenated values in the cc data\r\nloyalty$concat <- paste(loyalty$timestamp,loyalty$location,loyalty$price) #Create a separate column of unique values using concatenated values in the loyalty data\r\ndist.concat <- adist(cc$concat,loyalty$concat, partial = TRUE, ignore.case = TRUE) #Creates a matrix with the Standard Levenshtein distance between both newly created concat columns\r\nmin.concat <- apply(dist.concat, 1, min) #Extract pairs with minimum distance\r\n\r\nmatch.s1.s2 <- NULL\r\nfor (i in 1:nrow(dist.concat))\r\n{\r\n  s2.i <- match(min.concat[i], dist.concat[i,])\r\n  s1.i <- i\r\n  match.s1.s2 <- rbind(data.frame(loyalty.i=s2.i,\r\n                                    cc.i=s1.i,\r\n                                    loyalty_concat=loyalty[s2.i,]$concat,\r\n                                    cc_concat=cc[s1.i,]$concat,\r\n                                    adist=min.concat[i]),match.s1.s2)\r\n  }\r\n    \r\ncc_loyalty <- match.s1.s2 %>%\r\n  left_join(select(cc, last4ccnum, ID), by = c(\"cc.i\" = \"ID\")) %>% #Add in CC num column\r\n  left_join(select(loyalty, loyaltynum, ID), by = c(\"loyalty.i\" = \"ID\")) #Add in loyalty card num column\r\n\r\n\r\n\r\nLet’s now extract the matching credit card-loyalty pairs according to their distance.\r\n\r\n\r\nShow code\r\n\r\ncc_loyalty_unique <- dcast(cc_loyalty, last4ccnum + loyaltynum ~ adist) #Long to wide by transposing adist\r\ncc_loyalty_unique$Total <- rowSums(cc_loyalty_unique[,c(\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"11\")]) #Sum rows\r\ncc_loyalty_unique$MatchPct <- percent(cc_loyalty_unique[,3] / cc_loyalty_unique$Total)\r\n\r\ncc_loyalty_unique_80 <- cc_loyalty_unique %>% \r\n  filter (MatchPct >= \"80.00%\")\r\nn_distinct(cc_loyalty_unique_80$last4ccnum)\r\n\r\n\r\n[1] 30\r\n\r\nShow code\r\n\r\nn_distinct(cc_loyalty_unique_80$loyaltynum)\r\n\r\n\r\n[1] 29\r\n\r\n\r\n\r\nShow code\r\n\r\n# GPS Data Manipulation\r\ngps_name <- left_join(gps,assignments, by = c(\"id\" = \"CarID\")) # Merge car assignments to gps data\r\ngps_name$Timestamp <- as.POSIXct(gps_name$Timestamp, format = \"%m/%d/%Y  %H:%M:%S\", tz = \"GMT\") # Switching month-day format\r\ngps_name <- gps_name[with(gps_name,order(id,Timestamp)),] # Sort first by ID in ascending order and then Timestamp by oldest to newest\r\ngps_name <- gps_name %>% # Add running number in the first column\r\n  mutate(No = 1:n()) %>% \r\n  select(No, everything()) \r\n\r\ngps_name <- gps_name %>% # Create additional column indicating time taken from previous timestamp for same ID\r\n#    group_by(id) %>%\r\n    mutate(Delta = Timestamp - lag(Timestamp, default = first(Timestamp)))\r\n\r\ngps_name$Delta <- as.numeric(gps_name$Delta)\r\n\r\nspots <- gps_name %>% # Filtering out gps coordinates where stationary for only 0-9 secs\r\n  filter(!(Delta %in% c(0:9)))\r\nspots$No <- rep(1:3648, times = 1)\r\n\r\nspots_l <- spots[,4:5] # Extract only lat long\r\nspots_ll <- spots_l %>% slice(rep(1:n(), each = 3648))\r\nspots_ll$No <- rep(1:3648, times = 3648)\r\nspots_l$Noo <- rep(1:3648, times = 1)\r\nspots_ll <- left_join(spots_ll,spots_l, by = c(\"No\" = \"Noo\"))\r\nspots_ll$Diff <- sqrt((spots_ll$lat.x-spots_ll$lat.y)^2+(spots_ll$long.x-spots_ll$long.y)^2)\r\n\r\n#n_perc(spots_ll$Diff < 0.05)\r\n\r\n#write_csv(spots,\"C:\\\\Users\\\\syeda\\\\OneDrive\\\\Desktop\\\\spots.csv\")\r\n\r\n# Mapping map and gps together specifically for CarID #1\r\nmapping_spots <- ggplot(spots, aes(long, lat)) +\r\n  annotation_custom(rasterGrob(mc2,\r\n    width = unit(1, \"npc\"),\r\n    height = unit(1,\"npc\")),\r\n  xmin = 24.8244, xmax = 24.9096, ymin = 36.0453, ymax = 36.0952) + \r\n  geom_point(size = 0.1) + \r\n  coord_fixed(xlim = c(24.8244, 24.9096), ylim = c(36.0453, 36.0952)) + # Fixing the scales regardless of filtering of points\r\n  theme_bw() + theme(panel.border = element_blank(), # Remove background and grids and reformat scales and axis\r\n                     panel.grid.major = element_blank(), \r\n                     panel.grid.minor = element_blank(), \r\n                     axis.line = element_line(colour = \"black\"))  \r\n\r\nmapping_spots\r\n\r\n\r\n\r\n\r\n3. Data Exploration Analysis\r\nQuestions\r\n1 –– Using just the credit and loyalty card data, identify the most popular locations, and when they are popular. What anomalies do you see? What corrections would you recommend to correct these anomalies? Please limit your answer to 8 images and 300 words.\r\nProvide your answer and corresponding images here.\r\n2 – Add the vehicle data to your analysis of the credit and loyalty card data. How does your assessment of the anomalies in question 1 change based on this new data? What discrepancies between vehicle, credit, and loyalty card data do you find? Please limit your answer to 8 images and 500 words.\r\nProvide your answer and corresponding images here.\r\n3 – Can you infer the owners of each credit card and loyalty card? What is your evidence? Where are there uncertainties in your method? Where are there uncertainties in the data? Please limit your answer to 8 images and 500 words.\r\nProvide your answer and corresponding images here.\r\n4 –– Given the data sources provided, identify potential informal or unofficial relationships among GASTech personnel. Provide evidence for these relationships. Please limit your response to 8 images and 500 words.\r\nProvide your answer and corresponding images here.\r\n5 –– Do you see evidence of suspicious activity? Identify 1- 10 locations where you believe the suspicious activity is occurring, and why Please limit your response to 10 images and 500 words.\r\nProvide your answer and corresponding images here.\r\n6 –– If you solved this mini-challenge in 2014, how did you approach it differently this year?\r\nProvide your answer here.\r\n\r\n\r\nShow code\r\n\r\n2 + 2\r\n\r\n\r\n[1] 4\r\n\r\nShow code\r\n\r\nSys.timezone(location = TRUE)\r\n\r\n\r\n[1] \"Asia/Kuala_Lumpur\"\r\n\r\nTesting the use of a static image as background and showcasing the gps data on it using ggplot\r\n\r\n\r\nShow code\r\n\r\n# Mapping map and gps together specifically for CarID #1\r\nmapping <- ggplot(gps_name %>%\r\n                    filter(id == \"1\"),\r\n                  aes(long, lat)) +\r\n  annotation_custom(rasterGrob(mc2,\r\n    width = unit(1, \"npc\"),\r\n    height = unit(1,\"npc\")),\r\n  xmin = 24.8244, xmax = 24.9096, ymin = 36.0453, ymax = 36.0952) + \r\n  geom_point(size = 0.1) + \r\n  coord_fixed(xlim = c(24.8244, 24.9096), ylim = c(36.0453, 36.0952)) + # Fixing the scales regardless of filtering of points\r\n  theme_bw() + theme(panel.border = element_blank(), # Remove background and grids and reformat scales and axis\r\n                     panel.grid.major = element_blank(), \r\n                     panel.grid.minor = element_blank(), \r\n                     axis.line = element_line(colour = \"black\"))  \r\n#  + transition_time(Timestamp) +\r\n#  labs(title = \"Date:{frame_time}\")\r\n\r\nmapping\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-06-08-assignment/assignment_files/figure-html5/GPS-data-manipulation-1.png",
    "last_modified": "2021-06-21T01:22:42+08:00",
    "input_file": "assignment.knit.md"
  },
  {
    "path": "posts/2021-05-26-dataviz-makeover-1/",
    "title": "DataViz Makeover 1",
    "description": "Recasting Visualisation To Better Illuminate Underlying Insights \n(Using Data From Singapore’s Department Of Statistics)",
    "author": [
      {
        "name": "Syed Ahmad Zaki",
        "url": "https://www.google.com/"
      }
    ],
    "date": "2021-05-26",
    "categories": [],
    "contents": "\r\n\r\nContents\r\n1. Makeover Requirements\r\n1.1. The Task\r\n1.2. Deliverables\r\n\r\n2. Original Visualisation and Its Perceived Objective\r\n3. Critiquing Methodology\r\n4. Critique of Visualisation\r\n4.1. Clarity:\r\n4.2. Aesthetics:\r\n\r\n5. Alternative Design\r\n5.1. Suggested Improvements\r\n5.2. Finding Inspiration\r\n5.3. Sketch\r\n\r\n6. Step-by-Step Guide\r\n6.1. Data Preparation\r\n6.2. Data Visualisation\r\n6.3. Creating the Static Dashboard\r\n\r\n7. Final Visualisation\r\n7.1. Visualisation Snapshot\r\n7.2. Derived Insights\r\n\r\n\r\n1. Makeover Requirements\r\n1.1. The Task\r\nCritic the visualized graph with at least three points from each evaluation criterion (clarity and aesthetics) respectively.\r\nSuggest alternative graphical presentation to improve the current design:\r\nProposed alternative data visualization must be in static form.\r\nProposed design would need to be sketched.\r\nSupport your design by describing the advantages or which part of the issue(s) your alternative design attempts to overcome.\r\nUse Tableau to design the proposed data visualization.\r\nProvide step-by-step description on how the data visualization was prepared.\r\nDescribe three major observations revealed by the prepared data visualization.\r\n1.2. Deliverables\r\nThe write-up of the DataViz Makeover must be in distill or blogdown format, and is required to publish the write-up on Netlify.\r\nThe DataViz Makeover must be prepared using Tableau Desktop. The final workbook must be uploaded onto Tableau Public.\r\n2. Original Visualisation and Its Perceived Objective\r\nThe original visualization (shown below) showcases the merchandise trade, for both export and import, of the top six trading countries with Singapore across 2019 to 2020.\r\nFigure 1: Original Data VisualisationTo better understand how best to recast this visualization, we must first understand the intent of the visualization. Alberto Cairo succinctly sums up the actual intent of the graphic: “what is it that you want people to see”. He went to explain that one should begin not by designing the graphic first but rather, begin by “writing a very long narrative that you want to tell”.\r\nAn attempt on the narrative for the above visualization is as follows:\r\n“The import and export fluctuations within each of its top six trading countries differ greatly between 2019 to 2020, as well as against other top trading countries.”\r\nTo further illuminate the narrative, we propose the following questions that the visualization aims to answer:\r\n• What are the import and export levels in each of the top six trading countries?\r\n• How do these import and export levels fluctuate over time?\r\n• Within the top six countries, who has the highest and lowest import and export levels respectively?\r\n• (Additional) Do these fluctuations coincide with any event?\r\n3. Critiquing Methodology\r\nWe attempt to critique the above visualization on two criterions: clarity and aesthetics. Ben Jones (2012) nicely captures these criterions within a two-by-two matrix. The ideal quadrant to be in is Quadrant I, where it is both clear and beautiful.\r\nFigure 2: Data Visualization Matrix: Clarity vs AestheticsFrom a definition perspective, aesthetics refers to how pleasing the visualization is to the reader’s eye, while clarity refers to how clear and concise the story or the message behind the visualization is conveyed to the reader.\r\n4. Critique of Visualisation\r\nA critique of the above visualisation will be based on the earlier two criterions.\r\n4.1. Clarity:\r\n• Inconsistent vertical scale values intra and inter-countries\r\nThe vertical scales for both the primary and secondary axis denoting the export and import levels are inconsistent with one another for all six countries. For instance in Hong Kong, the export levels are denoted in millions, whereas the import levels are denoted in hundred thousands.\r\n• Unmatched vertical scale values intra and inter-countries\r\nEven when the scales are denoted in millions, as shown in Japan, the export and import levels don’t match up with each other. In the same Japan instance, export seems to have a higher scale level than its import.\r\n• Inconsistent horizontal time scale values intra and inter-countries\r\nThe horizontal time scale values are inconsistent for Japan, as compared to the rest of the countries. Japan’s horizontal time scale only showcases the months of 2020, whereas the other five countries showcases the months of both 2019 and 2020.\r\n• Unclear order of top six countries\r\nThere is no clear explanation on how the countries are arranged, and whether its order or arrangement takes into account the level of merchandise trade with Singapore. Can it be considered that HK is a more significant contributor of merchandise trade to Singapore, than US, solely based on its position within the visualisation?\r\n4.2. Aesthetics:\r\n• Legend shows two colour schemes, but visualisation has three\r\nThe legend clearly asssigns two distinct colours to export and import respectively, but the graph showcases a third colour. This third colour is a result of the overlapping area between both the export and import portions. Having a third undefined colour forces the reader to decipher for him/herself on what it actually means.\r\n• Repeating scale names\r\nThe vertical scales of Export and Import, as well the horizontal scales of ‘Month of Period’ is repeated six times throughout the whole visualisation.\r\n• Differing width\r\nExcluding Japan which has only a 2020 time period, the rest of the countries with a 2019-2020 time period have differing graph widths. Hong Kong has a narrower graph width than Malaysia, which is located just below it.\r\n• Legend takes up too much valuable real estate\r\nSince the legend position is situated on the top right corner of the visualisation, the space below it on the right side of the visualisation is very much wasted. Relocating this legend either above or below, could have made the visualisation wider.\r\n5. Alternative Design\r\n5.1. Suggested Improvements\r\nThe use of an area chart in the original visualisation is ideal, given the fluctuations between the export and import levels across the time period. As such, the following suggestions are mere tweaks to the original visualisation:\r\n• Consistent and matching vertical and horizontal scales\r\n• Countries ordered in terms of overall merchandise trade\r\n• Keep to two colour schemes\r\n• Reduce repeated scale names\r\n• Consistent chart widths\r\n• Reposition or replace legend\r\n• Presence of a header/sub-header indicating the storyline of the visualisation (with leading commentaries on visualisation itself)\r\n5.2. Finding Inspiration\r\nReusing the same area charts, we now scour everywhere for great inspiration!\r\nTaking a leaf from history, the visualisation on Commercial and Political Atlas by William Playfair intuitively showcases the difference in levels within the area chart. The use of different colour schemes allow the reader to understand which areas have higher amounts than another. Though it only uses one area chart, it helps that this inspired visualisation is also based on exports and imports, similar to this makeover!\r\nFigure 3: Historical Visualisation on Export and Import Levels Between England and Two Other Countries (Denmark and Norway)5.3. Sketch\r\nThe following sketch strives to find common ground between the original visualisation and its critiques, as well as the historical inspiration above.\r\nFigure 4: Sktech of Eventual Visualisation6. Step-by-Step Guide\r\n6.1. Data Preparation\r\nThe original raw data reside within the following links: Merchandise Trade Webpage and Merchandise Trade Excel Download\r\nThe Excel file contains the following three sheets:\r\n\r\n\r\nTable 1: Contents of Merchandise Trade Excel File\r\n\r\n\r\nSheet_Name\r\n\r\n\r\nDescription\r\n\r\n\r\nContent\r\n\r\n\r\nExplaining sheets T1 and T2 contain the “Merchandise Imports By Region/Market, Monthly” and “Merchandise Exports By Region/Market, Monthly” respectively\r\n\r\n\r\nT1\r\n\r\n\r\nContains the monthly merchandise imports by country/region in dollars (thousands for individual countries or millions for regions) spanning Jan-1976 to Apr-2021\r\n\r\n\r\nT2\r\n\r\n\r\nContains the monthly merchandise exports by country/region in dollars (thousands for individual countries or millions for regions) spanning Jan-1976 to Apr-2021\r\n\r\n\r\nMicrosoft Excel will be utilised first for the following data preparation steps.\r\n\r\n\r\nTable 2: Data Preparation Steps Using MS Excel\r\n\r\n\r\nNo. \r\n\r\n\r\nSteps\r\n\r\n\r\nScreenshots\r\n\r\n\r\n1\r\n\r\n\r\nUsing Microsoft Excel file, open the raw data (outputFile.xlsx).\r\n\r\n\r\n\r\n\r\n2\r\n\r\n\r\nSince we need to make sure that the headers are in the first row, we will remove the first 5 rows in spreadsheet T1. Repeat step in spreadsheet T2.\r\n\r\n\r\n\r\n\r\n3\r\n\r\n\r\nRemove rows 2 to 8 in both spreadsheet T1 and T2, since these rows showcase cumulative amounts.\r\n\r\n\r\n\r\n\r\n4\r\n\r\n\r\nTrim the bottom of the table with commentary and no data, by removing rows 115 to 128 in spreadsheet T1. Similarly, remove rows 87 to 100 in T2.\r\n\r\n\r\n\r\n\r\n5\r\n\r\n\r\nSince the visualization is based on data only between the years 2019 and 2020, we will remove columns B to SW and TV to TY in both spreadsheet T1 and T2.\r\n\r\n\r\n\r\n\r\n6\r\n\r\n\r\nSince the dates in row 1 are not in proper date format, reformat dates to the first of the month from Jan-2019 onwards. Similarly, do this step on spreadsheet T2. Then rename cell A1 to Country.\r\n\r\n\r\n\r\n\r\n7\r\n\r\n\r\nSince we would need to differentiate both these spreadsheets after we consolidate them, we would first insert a column in column B and name it “Type”. Then fill the column with the value “Import” in T1.Insert a similar column in T2 but fill the column with the value “Export”.\r\n\r\n\r\n\r\n\r\n8\r\n\r\n\r\nFor subsequent use in Tableau Desktop, we would need to change the table layout from a wide table to a long table. From the Data ribbon, select the button “From Table/Range”.\r\n\r\n\r\n\r\n\r\n9\r\n\r\n\r\nEnsure that $A\\(1:\\)Z$114 is selected and click OK. A Power Query Editor program will then launch.\r\n\r\n\r\n\r\n\r\n10\r\n\r\n\r\nHighlight the first two columns (Country and Type), and then within the Transform ribbon, select Unpivot Other Columns.\r\n\r\n\r\n\r\n\r\n11\r\n\r\n\r\nRename the third and fourth column to Period and Trade_Amt.\r\n\r\n\r\n\r\n\r\n12\r\n\r\n\r\nTo load the results back into Excel, within the Home (tab), select Close & Load. The transformed table will appear in a new worksheet called Table1.\r\n\r\n\r\n\r\n\r\n13\r\n\r\n\r\nTo only extract the country name in the first column, insert a new column in column B and then use the following formula: “=TRIM(LEFT([@Country],SEARCH(”(“,[@Country])-1))”. To keep these values, copy and paste back these same values only.\r\n\r\n\r\n\r\n\r\n14\r\n\r\n\r\nRemove column A with the old values. Rename the header of the latest column A to Country. Since the Trade_Amt values are actually in thousands, we would need to reflect this accordingly. Multiply the values within the Trade_Amt column by a thousand. You have now completed the transformation for sheet T1.\r\n\r\n\r\n\r\n\r\n15\r\n\r\n\r\nRepeat steps 8 to 14 for sheet T2. Ensure that $A\\(1:\\)Z$86 is selected.\r\n\r\n\r\n\r\n\r\n16\r\n\r\n\r\nTo create a consolidated file, copy and combine the transformed tables in steps 14 and 15 into a new workbook.\r\n\r\n\r\n\r\n\r\n17\r\n\r\n\r\nSince we just need the six countries, we will remove the other countries. Highlight columns A to D and go to the Data ribbon and select Filter. Uncheck the six countries (Hong Kong, Japan, Mainland China, Malaysia, Taiwan and US) from the Country filter and delete all rows from row 2 onwards. Then remove filter to repopulate the table with only the six countries. Save this file as “Consol.xlsx”. This file will then be used for the visualisation on Tableau Desktop.\r\n\r\n\r\n\r\n\r\n6.2. Data Visualisation\r\nHaving prepared the data, we will now utilize Tableau Desktop for the eventual visualisation.\r\n\r\n\r\nTable 3: Data Visualisation Steps Using Tableau Desktop\r\n\r\n\r\nNo. \r\n\r\n\r\nSteps\r\n\r\n\r\nScreenshots\r\n\r\n\r\n1\r\n\r\n\r\nOpen Tableau Desktop. Then connect to MS Excel and import the earlier Consol file.\r\n\r\n\r\n\r\n\r\n2\r\n\r\n\r\nFrom the bottom bar, select Sheet 1. Then drag Country and Period to Columns, and Trade Amt to Rows.\r\n\r\n\r\n\r\n\r\n3\r\n\r\n\r\nLet’s change the Period to a Month-Year date format. On the left Data bar, select the dropdown menu for Period. Change Data Type to Date.\r\n\r\n\r\n\r\n\r\n4\r\n\r\n\r\nFrom the Columns bar at the top of the screen, select the dropdown menu for Period. Select Month-Year.\r\n\r\n\r\n\r\n\r\n5\r\n\r\n\r\nTo differentiate Export and Import using colour, drag Type to Colour Marks\r\n\r\n\r\n\r\n\r\n6\r\n\r\n\r\nWithin the Marks dropdown menu, select Area.\r\n\r\n\r\n\r\n\r\n7\r\n\r\n\r\nWithin the Colour Marks, select 100% Opacity.\r\n\r\n\r\n\r\n\r\n8\r\n\r\n\r\nSince the Export and Import values should not be stacked on top of each other, we will need to separate them. Select Analysis from the toolbar, then select Stack Marks, then select Off\r\n\r\n\r\n\r\n\r\n9\r\n\r\n\r\nTo know the lowest level of either Export and Import for each month, a calculated field will need to be created. Select Trade Amt from the left Data bar, and create a Calculated Field\r\n\r\n\r\n\r\n\r\n10\r\n\r\n\r\nName this calculated field, Lowest_Level. Then use the following formula: {EXCLUDE [Type]:MIN([Trade Amt])}. Check that the calculation is valid.\r\n\r\n\r\n\r\n\r\n11\r\n\r\n\r\nDrag the newly created Lowest_Level field to the vertical axis of Trade Amt. An icon with two verical bars should appear on the cursor.\r\n\r\n\r\n\r\n\r\n12\r\n\r\n\r\nDrag Measure Names from Rows at the top onto Detail Marks.\r\n\r\n\r\n\r\n\r\n13\r\n\r\n\r\nClick on the Detail Marks icon beside Measure Names and select Colour\r\n\r\n\r\n\r\n\r\n14\r\n\r\n\r\nTo hide the Lowest_Level area, select Measure Names in the Marks column, then select Colour marks and Edit Colours. Select the colour White on both Lowest_Level fields\r\n\r\n\r\n\r\n\r\n15\r\n\r\n\r\nDrag Trade Amt to Rows and change Sum Trade Amt to Line.\r\n\r\n\r\n\r\n\r\n16\r\n\r\n\r\nRemove Measure Names from the Marks section, by dragging it out of the window.\r\n\r\n\r\n\r\n\r\n17\r\n\r\n\r\nTo combine both graphs, right-click on Trade Amt vertical axis and select Dual Axis.\r\n\r\n\r\n\r\n\r\n18\r\n\r\n\r\nRight-click on the Trade Amt secondary axis, and select both Synchronize Axis and hide Show Header.\r\n\r\n\r\n\r\n\r\n19\r\n\r\n\r\nTo remove the Country header, select Country at the top and Hide Fields Labels for Columns.\r\n\r\n\r\n\r\n\r\n20\r\n\r\n\r\nLikewise to hide the Sheet 1 header, select Sheet 1 at the top and select Hide Title.\r\n\r\n\r\n\r\n\r\n21\r\n\r\n\r\nTo remove the horizontal grid lines, select Format and choose Lines. Then within the Format Lines window, select None for Grid Lines within the Rows tab.\r\n\r\n\r\n\r\n\r\n22\r\n\r\n\r\nWe will manually reorder the countries in descending order of trade from left to right. Since Hong Kong is an anomaly with a large export-import gap, we will place it at the right most placement. Reorder the countries by dragging the country names into their respective positions as per the image.\r\n\r\n\r\n\r\n\r\n23\r\n\r\n\r\nRename the Y-axis to Merchandise Trade Amt by right-clicking on the Y-axis and select Edit Axis.\r\n\r\n\r\n\r\n\r\n24\r\n\r\n\r\nRight-click on the horizontal time axis and select Edit Axis. Within the Tick Marks tab, select Fixed major tick marks, input 1/1/2019 as the tick origin and set the Interval at 2.\r\n\r\n\r\n\r\n\r\n25\r\n\r\n\r\nThen within the General tab, remove Month of Period from the Axis Title. Click OK.\r\n\r\n\r\n\r\n\r\n26\r\n\r\n\r\nTo remove the vertical lines that separate the countries, right click on the visualisation, and select Format. At the top, choose the fourth icon called Borders. Under Column Divider, select Pane and then choose None.\r\n\r\n\r\n\r\n\r\n27\r\n\r\n\r\nTo change the area under the lowest level lines to a grey tinge, select Measure Values within the Marks window and edit colors. For each of the Lowest Level data items, choose Val 245 or HTML color of #f5f5f5.\r\n\r\n\r\n\r\n\r\n28\r\n\r\n\r\nTo change the area above the graphs to the same grey tinge, right-click on the horizontal time axis and select Add Reference Line. Then choose the Band icon, and select Entire Table as the Scope. Within the Band From, input 1/1/2019 and Constant within the value and choose None for the label. Within the Band To, input 1/12/2020 and Constant within the value and choose None for the label. Lastly within Fill, choose More Colors and select Val 245 or HTML color of #f5f5f5.\r\n\r\n\r\n\r\n\r\n29\r\n\r\n\r\nTo change the fonts of the Country Headers, right-click on the countries and select Format. Choose Tableau Semibold for its font, size 18 and choose Bold. Then rename Sheet 1 to Viz and save your work.\r\n\r\n\r\n\r\n\r\n6.3. Creating the Static Dashboard\r\nHaving visualised the data, we will now put the final touches on a dashboard.\r\n\r\n\r\nTable 4: Data Visualisation Steps Using Tableau Desktop\r\n\r\n\r\nNo. \r\n\r\n\r\nSteps\r\n\r\n\r\nScreenshots\r\n\r\n\r\n1\r\n\r\n\r\nCreate a new Dashboard. On the top left, select Default Dashboard, and then select Automatic as its size\r\n\r\n\r\n\r\n\r\n2\r\n\r\n\r\nLet’s create a header. Within Objects, click on Floating. Drag Text to the main window. Type ‘Singapore’s Top Six Trading Countries Greatly Differ in Both Export And Import’. Choose Tableau Semibold font, size 18 and black colour.\r\n\r\n\r\n\r\n\r\n3\r\n\r\n\r\nTo replace the legend, we will colour code the words Export and Import. Highlight the Export word, and choose HTML color #4e79a7. Do the same for the Import word, but this time, choose HTML color #f28e2b\r\n\r\n\r\n\r\n\r\n4\r\n\r\n\r\nTo perfectly align the header, select the text and then the layout column. Follow these dimensions, x of 2, y of 1, w of 1639 and h of 58. Do note that your width might differ from the picture, given your respective screen resolution.\r\n\r\n\r\n\r\n\r\n5\r\n\r\n\r\nLet’s now create a sub-header in similar fashion. Within Objects, click on Floating. Drag Text to the main window. Type ‘The import and export fluctuations within each of its top six trading countries differ greatly between 2018 to 2020, as well as against other top trading countries.’. Choose Tableau Book font, size 12 and black colour.\r\n\r\n\r\n\r\n\r\n6\r\n\r\n\r\nAs per before, to perfectly align the sub-header, select the text and then the layout column. Follow these dimensions, x of 2, y of 46, w of 1639 and h of 69.\r\n\r\n\r\n\r\n\r\n7\r\n\r\n\r\nNext drag the newly created Viz sheet into the dashboard and remove its legend.\r\n\r\n\r\n\r\n\r\n8\r\n\r\n\r\nTo nicely align the Viz sheet, follow these dimensions, x of 2, y of 90, w of 1639 and h of 780.\r\n\r\n\r\n\r\n\r\n9\r\n\r\n\r\nReorder the Item Hierarchy such that Viz is on the lowest level.\r\n\r\n\r\n\r\n\r\n10\r\n\r\n\r\nTo annotate our comments, go back to the Viz worksheet, right-click a point on the graph and select Annotate, Point. Then enter the necessary comments and choose size 8 font, and click OK. To remove the background box shading, select None for shading within the Format Annotation window.\r\n\r\n\r\n\r\n\r\n11\r\n\r\n\r\nRename your dashboard as Viz1 and then save this dashboard to Tableau Public.\r\n\r\n\r\n\r\n\r\n7. Final Visualisation\r\n7.1. Visualisation Snapshot\r\nTo gain access to this dashboard on Tableau Public, click on this link. This dashboard is best viewed on a secondary monitor.\r\nFigure 5: Final Tableau Visualisation7.2. Derived Insights\r\nAmongst the six countries, Hong Kong had the biggest gap in merchandise trade amount between export and import. Singapore’s exports to HK far outstrip HK’s imports into Singapore, with Mar-2020 recording the widest 2 year gap.\r\nThe converse is true for Taiwan. Taiwan’s imports to Singapore consistently outstrip Singapore’s exports to Taiwan, with Oct-2020 recording the widest 2 year gap.\r\nFor the United States, import levels were consistently higher prior to Apr-2020. From this point onwards, export to the United States became consistently higher.\r\nSimilarly for Malaysia, from Dec-2021 onwards, import consistently outgrew export. Prior to this, export and import levels greatly overlapped each other.\r\nThough at different levels, both the export and import levels within Mainland China and Japan fluctuate consistently.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-06-09T00:09:48+08:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to My DataViz Makeover Page",
    "description": "Welcome to my humble abode, where we delve into data vizualisation makeovers. We hope you enjoy reading what we have to say!",
    "author": [
      {
        "name": "Syed Ahmad Zaki",
        "url": "https://www.google.com/"
      }
    ],
    "date": "2021-05-24",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-05-26T00:00:04+08:00",
    "input_file": {}
  }
]
